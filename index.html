<html>
<head>
    <meta charset="UTF-8">
    <title>Eel</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <span>検索ワード</span>
    <input type="text" id="search_word">
    
    <!--検索ボタン onclickで「クリックされたら、指定の関数を実行」-->
    <button onclick=empty_alert();AddWordToTextarea()>検索</button>

    <div>
    <textarea id="search_result" placeholder="ここに検索結果が表示されます" display:block></textarea>
    </div>
      
    
    <script>   

        function empty_alert(){
            if(document.getElementById("search_word").value===""){
                alert("空欄に文字を入力してください")
            }
        }
        //async awaitで非同期処理を実行
        async function AddWordToTextarea(){
            //検索ワード欄の値を取得して、aaという変数に入れる
            let aa = document.getElementById("search_word").value
            //eelでpythonのkimetsu_searchを叩く。aaを引数として実行。returnでwordが戻ってくるのでvalに代入
            let val=await eel. kimetsu_search(aa)();
            //valを検索結果欄に出力　↓ここがnullになってしまう。。
            document.getElementById("search_result").value += val  + "\n";
        }
    </script>
    
    <script type="text/javascript" src=./eel.js></script> 
</body>
</html>